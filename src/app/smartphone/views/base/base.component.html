<ion-split-pane contentId="main">
  <ion-menu side="start" menuId="first" contentId="main" type="push" #menu>
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>MANGASEKAI</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-accordion-group>
          <ion-accordion>
            <ion-item slot="header" color="dark">
              <ion-icon slot="start" name="server"></ion-icon>
              <ion-label>Server list</ion-label>
            </ion-item>
            <ion-list slot="content">
              <ion-item button (click)="addServer ()" color="dark" detail="true">
                <ion-icon slot="start" name="add-outline"></ion-icon>
                <ion-label>Add server</ion-label>
              </ion-item>
              <ion-item-group *ngFor="let entry of serverList">
                <ion-item-divider color="dark">
                  <ion-label>{{ entry.alias.length > 0 ? entry.alias : entry.address }} <small *ngIf="server === entry"> (current server)</small></ion-label>
                </ion-item-divider>
                <ion-list slot="content">
                  <ion-item button (click)="switchToServer (entry)" *ngIf="server !== entry" color="dark" detail="true">
                    <ion-icon slot="start" name="shuffle-outline"></ion-icon>
                    <ion-label>Switch to this server</ion-label>
                  </ion-item>
                  <ion-item button (click)="removeServer (entry)" color="dark" detail="true">
                    <ion-icon slot="start" name="log-out-outline"></ion-icon>
                    <ion-label>Remove</ion-label>
                  </ion-item>
                </ion-list>
              </ion-item-group>
            </ion-list>
          </ion-accordion>
        </ion-accordion-group>

        <ion-item-group>
          <ion-item-divider>
            <ion-label>Main</ion-label>
          </ion-item-divider>
          <ion-item button (click)="gotoDashboard ()" detail="true">
            <ion-icon slot="start" name="speedometer-outline"></ion-icon>
            <ion-label>Dashboard</ion-label>
          </ion-item>
        </ion-item-group>
        <ion-item-group *ngIf="token.isadmin">
          <ion-item-divider>
            <ion-label>Admin</ion-label>
          </ion-item-divider>
          <ion-item button (click)="gotoSettings ()" detail="true">
            <ion-icon slot="start" name="settings-outline"></ion-icon>
            <ion-label>Settings</ion-label>
          </ion-item>
        </ion-item-group>
        <ion-item-group>
          <ion-item-divider>
            <ion-label>Account</ion-label>
          </ion-item-divider>
          <ion-item button detail="true">
            <ion-icon slot="start" name="person-outline"></ion-icon>
            <ion-label>User settings</ion-label>
          </ion-item>
        </ion-item-group>
        <ion-item-group>
          <ion-item-divider>
            <ion-label><small>Current server: {{ server.alias.length > 0 ? server.alias : server.address }}</small></ion-label>
          </ion-item-divider>
        </ion-item-group>
      </ion-list>
    </ion-content>
  </ion-menu>

  <!-- the main content -->
  <ion-router-outlet id="main"></ion-router-outlet>
</ion-split-pane>
